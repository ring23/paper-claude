.vizPanel {
  position: sticky;
  top: 0;
  width: 100%;
  height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
  pointer-events: none;
  overflow: hidden;
}

/* Snowfall layer 1 — larger, closer flakes, faster drift */
.vizPanel::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: -100%;
  height: 200%;
  background:
    radial-gradient(2.5px 2.5px at 8% 4%, rgba(215, 230, 248, 0.45), transparent 3px),
    radial-gradient(2px 2px at 22% 12%, rgba(215, 230, 248, 0.3), transparent 3px),
    radial-gradient(3px 3px at 38% 7%, rgba(225, 238, 252, 0.35), transparent 4px),
    radial-gradient(2px 2px at 55% 15%, rgba(215, 230, 248, 0.25), transparent 3px),
    radial-gradient(2.5px 2.5px at 72% 9%, rgba(225, 238, 252, 0.4), transparent 3px),
    radial-gradient(2px 2px at 88% 18%, rgba(215, 230, 248, 0.3), transparent 3px),
    radial-gradient(2.5px 2.5px at 15% 28%, rgba(225, 238, 252, 0.35), transparent 3px),
    radial-gradient(2px 2px at 45% 33%, rgba(215, 230, 248, 0.25), transparent 3px),
    radial-gradient(3px 3px at 65% 26%, rgba(225, 238, 252, 0.4), transparent 4px),
    radial-gradient(2px 2px at 82% 35%, rgba(215, 230, 248, 0.3), transparent 3px),
    radial-gradient(2.5px 2.5px at 30% 42%, rgba(215, 230, 248, 0.35), transparent 3px),
    radial-gradient(2px 2px at 95% 40%, rgba(225, 238, 252, 0.25), transparent 3px);
  background-size: 100% 50%;
  animation: snowDrift 18s linear infinite;
  pointer-events: none;
  z-index: 0;
}

/* Snowfall layer 2 — smaller, distant flakes, slower drift */
.vizPanel::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: -100%;
  height: 200%;
  background:
    radial-gradient(1.5px 1.5px at 5% 6%, rgba(200, 220, 240, 0.2), transparent 2px),
    radial-gradient(1px 1px at 18% 18%, rgba(200, 220, 240, 0.15), transparent 2px),
    radial-gradient(1.5px 1.5px at 33% 10%, rgba(200, 220, 240, 0.2), transparent 2px),
    radial-gradient(1px 1px at 48% 22%, rgba(200, 220, 240, 0.18), transparent 2px),
    radial-gradient(1.5px 1.5px at 62% 14%, rgba(200, 220, 240, 0.15), transparent 2px),
    radial-gradient(1px 1px at 78% 28%, rgba(200, 220, 240, 0.2), transparent 2px),
    radial-gradient(1.5px 1.5px at 90% 8%, rgba(200, 220, 240, 0.18), transparent 2px),
    radial-gradient(1px 1px at 25% 36%, rgba(200, 220, 240, 0.15), transparent 2px),
    radial-gradient(1.5px 1.5px at 55% 32%, rgba(200, 220, 240, 0.2), transparent 2px),
    radial-gradient(1px 1px at 70% 40%, rgba(200, 220, 240, 0.18), transparent 2px),
    radial-gradient(1.5px 1.5px at 42% 44%, rgba(200, 220, 240, 0.15), transparent 2px),
    radial-gradient(1px 1px at 85% 48%, rgba(200, 220, 240, 0.2), transparent 2px);
  background-size: 100% 50%;
  animation: snowDrift 30s linear infinite;
  pointer-events: none;
  z-index: 0;
}

@keyframes snowDrift {
  from { transform: translateY(0); }
  to { transform: translateY(50%); }
}

.bgGlow {
  position: absolute;
  inset: 0;
  background: var(--athlete-primary, #C6982B);
  opacity: 0;
  mix-blend-mode: soft-light;
  transition: opacity 1s;
  pointer-events: none;
}

.bgGlowActive {
  opacity: 0.15;
}

@media (prefers-reduced-motion: reduce) {
  .vizPanel::before,
  .vizPanel::after {
    animation: none;
    top: 0;
    height: 100%;
    background-size: 100% 100%;
  }
}

@supports not (height: 100dvh) {
  .vizPanel {
    height: 100vh;
  }
}

@media (max-width: 768px) {
  .vizPanel::before,
  .vizPanel::after {
    animation-duration: 30s;
    opacity: 0.6;
  }
}
